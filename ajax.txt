##ajax form 

$("#mensaje").submit(function(e){

          e.preventDefault()
          $.ajax({
              type: 'POST',
              url: 'insertMessage.php',
              data: $(this).serialize(),
              success: function(response){
                 var texto = document.getElementById("texto");
                 texto.value = ""; 
                 $("#texto").trigger('focus');
                 dialogo.scrollTop = dialogo.scrollTop;
                 
              },
              error: function(){
                  alert("No se ha podido enviar el mensaje:).Intentelo de nuevo");
              }
          });

          // finalizate ajax
      });
      
      
      
      
    //en caso de que se cree un boton y se haga atraves de el volver a llmar a la funcion submit del jquery
    $('#xx').on('click', function(){

                $('#form').submit(function(e){

                      e.preventDefault();

                      $.ajax({
                           
                           type : 'post',
                           url : 'test.php',
                           data: $(this).serialize(),
                           success: function(response){console.log(response)},
                           error: function(){console.log('error en el ajax')}

                      });

                });


                $('#form').submit(); /////very important again after 

          });
